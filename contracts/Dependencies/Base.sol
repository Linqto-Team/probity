// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

/**
 * @notice Contains global system constants and common functions.
 */
contract Base {
  // --- Registered contracts ---

  enum Contract {Aurei, Bridge, Teller, Treasury, Vault}

  // --- Math constants ---

  // One as 1e18, or as 100%
  uint256 constant ONE = 10**18;

  // Minimum collateral ratio for Spark vaults (150%)
  uint256 public constant LIQUIDATION_RATIO = 1500000000000000000;

  // Seconds in year: 365.25 * 24 * 60 * 60;
  uint256 public constant SECONDS_IN_YEAR = 31557600;

  // MPR to scaled utilization following R * (1 - U) = 1
  mapping(uint256 => uint256) public EXP_UTILIZATION;

  /**
   * Set storage for scaled utilization ratios at rates in 0.25% increments.
   */
  constructor() {
    EXP_UTILIZATION[
      1010000000000000000000000000
    ] = 1999999999684693042195877426; // 1.00% (MIN)
    EXP_UTILIZATION[
      1012500000000000000000000000
    ] = 1999999999606354095491668687; // 1.25%
    EXP_UTILIZATION[
      1015000000000000000000000000
    ] = 1999999999528208339980274380; // 1.50%
    EXP_UTILIZATION[
      1017500000000000000000000000
    ] = 1999999999450254825150064123; // 1.75%
    EXP_UTILIZATION[
      1020000000000000000000000000
    ] = 1999999999372492607487053341; // 2.00%
    EXP_UTILIZATION[
      1022500000000000000000000000
    ] = 1999999999294920750406382694; // 2.25%
    EXP_UTILIZATION[
      1025000000000000000000000000
    ] = 1999999999217538324184634145; // 2.50%
    EXP_UTILIZATION[
      1027500000000000000000000000
    ] = 1999999999140344405892971441; // 2.75%
    EXP_UTILIZATION[
      1030000000000000000000000000
    ] = 1999999999063338079331092970; // 3.00%
    EXP_UTILIZATION[
      1032500000000000000000000000
    ] = 1999999998986518434961985222; // 3.25%
    EXP_UTILIZATION[
      1035000000000000000000000000
    ] = 1999999998909884569847465172; // 3.50%
    EXP_UTILIZATION[
      1037500000000000000000000000
    ] = 1999999998833435587584500224; // 3.75%
    EXP_UTILIZATION[
      1040000000000000000000000000
    ] = 1999999998757170598242294454; // 4.00%
    EXP_UTILIZATION[
      1042500000000000000000000000
    ] = 1999999998681088718300130126; // 4.25%
    EXP_UTILIZATION[
      1045000000000000000000000000
    ] = 1999999998605189070585953616; // 4.50%
    EXP_UTILIZATION[
      1047500000000000000000000000
    ] = 1999999998529470784215695090; // 4.75%
    EXP_UTILIZATION[
      1050000000000000000000000000
    ] = 1999999998453932994533311420; // 5.00%
    // TODO: Fill in the gaps after 5% APR
  }
}
